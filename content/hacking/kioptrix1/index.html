<!DOCTYPE html>
<html lang="ko" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>해킹] kioptrix-level-1 | 채수현 개발일지</title>
<meta name="keywords" content="Kali Linux, 해킹">
<meta name="description" content="Setup">
<meta name="author" content="cha2hyun">
<link rel="canonical" href="https://blog.cha2hyun.com/content/hacking/kioptrix1/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.86f6066d7130525813443e8903a2068321c628315d580b277954cd68a96e68c0.css" integrity="sha256-hvYGbXEwUlgTRD6JA6IGgyHGKDFdWAsneVTNaKluaMA=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.cha2hyun.com/favicon/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.cha2hyun.com/favicon/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.cha2hyun.com/favicon/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.cha2hyun.com/favicon/apple-icon-76x76.png">
<link rel="mask-icon" href="https://blog.cha2hyun.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="ko" href="https://blog.cha2hyun.com/content/hacking/kioptrix1/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><meta property="og:url" content="https://blog.cha2hyun.com/content/hacking/kioptrix1/">
  <meta property="og:site_name" content="채수현 개발일지">
  <meta property="og:title" content="해킹] kioptrix-level-1">
  <meta property="og:description" content="Setup">
  <meta property="og:locale" content="ko">
  <meta property="og:type" content="article">
    <meta property="article:section" content="content">
    <meta property="article:published_time" content="2024-01-15T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-01-15T00:00:00+00:00">
    <meta property="article:tag" content="Kali Linux">
    <meta property="article:tag" content="해킹">
      <meta property="og:image" content="https://blog.cha2hyun.com/papermod-cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://blog.cha2hyun.com/papermod-cover.png">
<meta name="twitter:title" content="해킹] kioptrix-level-1">
<meta name="twitter:description" content="Setup">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Contents",
      "item": "https://blog.cha2hyun.com/content/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "해킹",
      "item": "https://blog.cha2hyun.com/content/hacking/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "해킹] kioptrix-level-1",
      "item": "https://blog.cha2hyun.com/content/hacking/kioptrix1/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "해킹] kioptrix-level-1",
  "name": "해킹] kioptrix-level-1",
  "description": "Setup",
  "keywords": [
    "Kali Linux", "해킹"
  ],
  "articleBody": "\nkioptrix1 서버 올리기 kioptrix-level-1-1을 받아서 UTM으로 실행해줍니다. 실리콘에서 실행시키기 위해 유튜브를 참고하였습니다. 이때 qemu 사용하기 위해 brew 로 설치가 필요합니다.\n1 brew install qemu Step 1:- Download Kioptrix level 1 vulnerable system Step 2:- Unzip the file through Unzip rar (download from App Store) Step 3:- Open the unzip Folder in terminal Step 4:- qemu-img convert -p -O qcow2 *.vmdk output.qcow2 (write this command in terminal ) Step 5:- Open Utm Step 6: - Create new Virtual machine Step 7:- Click on the Emulate Button Step 8:- Skip ISO BOOT Step 9:- Click Continue Step 10:- Open virtual Setting Step 11:- Click Qemu Step 12:- Tick RNG and force ps/2 controller Step 13:- Delete Drive Step 14:- Import new drive and select .qocw2 file from kioptrix folder 여기에 추가로 네트워크 설정에서 브릿지로 설정해줍니다.\nInformation Gathering ping scan 하여 취약 ip 찾기 information gathering 어떤 ip가 살아있는지 ping scan을 일일이 날리지 않고 한번에 해줌, python이나 shell로 코드를 짜도 되고 nmap을 사용해도 가능 이때 flag는 -sn을 사용한다.\n1 nmap -sn 192.168.0.1-255 위에서 찾은 ip로 취약한 Port 찾기 취약한 ip를 찾았다면 어떤 포트가 열려있는지 확인합니다. flag는 -A을 사용한다. -v 옵션을 주어서 어떤 내용인지 로그를 전부 출력한다\n1 nmap -v -A 192.168.0.X 테스트로 localhost로 웹서버 몇개를 띄웠습니다\nsearchsploit으로 취약점 찾기 위에서 열린 포트중에 어떤 취약점이 있는지 확인할 수 있습니다. 예시) nginx, apache, mod_ssl 등\n1 searchsploit mod_ssl 어떠한 취약점이 있는지 확인할 수 있습니다. 사용할 파일은 복사하여 사용합니다.\n1 cp /usr/share/exploitdb/exploits/{위에서나온PATH} /복사할 path gobuster 사용하기 웹페이지의 경로를 Broute Force 방식으로 무작위 대입하여 어떠한 경로가 있는지 파악하는 툴입니다.\n1 sudo apt install gobuster 기본적으로 dirbuster 에 대한 broute force 내용들이 저장되어 있습니다. 경로는 /usr/share/wordlists/dirbuster/ 하위에 있습니다. 사용 방법은 다음과 같습니다.\n1 gobuster dir -u [웹주소] -w /usr/share/wordlists/dirbuster/[사용할 파일] -t [쓰레드수] --exclude-length [제외할 length string 예시) 100-400] 명령어를 실행하게 되면 적용한 파일에 있는 주소가 있는지 확인하여 결과를 보여줍니다.\n계속… Reference https://www.youtube.com/@Normaltic ",
  "wordCount" : "304",
  "inLanguage": "ko",
  "image": "https://blog.cha2hyun.com/papermod-cover.png","datePublished": "2024-01-15T00:00:00Z",
  "dateModified": "2024-01-15T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "cha2hyun"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.cha2hyun.com/content/hacking/kioptrix1/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "채수현 개발일지",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.cha2hyun.com/favicon/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.cha2hyun.com/" accesskey="h" title="채수현 개발일지 (Alt + H)">채수현 개발일지</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.cha2hyun.com/archives" title="전체">
                    <span>전체</span>
                </a>
            </li>
            <li>
                <a href="https://blog.cha2hyun.com/content/daily/" title="일상">
                    <span>일상</span>
                </a>
            </li>
            <li>
                <a href="https://blog.cha2hyun.com/content/dev/" title="개발">
                    <span>개발</span>
                </a>
            </li>
            <li>
                <a href="https://blog.cha2hyun.com/content/algorithm/" title="공부">
                    <span>공부</span>
                </a>
            </li>
            <li>
                <a href="https://blog.cha2hyun.com/search/" title="검색">
                    <span>검색</span>
                </a>
            </li>
            <li>
                <a href="https://blog.cha2hyun.com/" title="">
                    <span></span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://blog.cha2hyun.com/">홈</a>&nbsp;»&nbsp;<a href="https://blog.cha2hyun.com/content/">Contents</a>&nbsp;»&nbsp;<a href="https://blog.cha2hyun.com/content/hacking/">해킹</a></div>
    <h1 class="post-title entry-hint-parent">
      해킹] kioptrix-level-1
    </h1>
    <div class="post-meta"><span title='2024-01-15 00:00:00 +0000 UTC'>2024년 1월 15일</span>&nbsp;·&nbsp;<span>2 분</span>&nbsp;·&nbsp;<span>cha2hyun</span>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">목차</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#kioptrix1-%ec%84%9c%eb%b2%84-%ec%98%ac%eb%a6%ac%ea%b8%b0" aria-label="kioptrix1 서버 올리기">kioptrix1 서버 올리기</a></li>
                <li>
                    <a href="#information-gathering" aria-label="Information Gathering">Information Gathering</a><ul>
                        
                <li>
                    <a href="#ping-scan-%ed%95%98%ec%97%ac-%ec%b7%a8%ec%95%bd-ip-%ec%b0%be%ea%b8%b0" aria-label="ping scan 하여 취약 ip 찾기">ping scan 하여 취약 ip 찾기</a></li>
                <li>
                    <a href="#%ec%9c%84%ec%97%90%ec%84%9c-%ec%b0%be%ec%9d%80-ip%eb%a1%9c-%ec%b7%a8%ec%95%bd%ed%95%9c-port-%ec%b0%be%ea%b8%b0" aria-label="위에서 찾은 ip로 취약한 Port 찾기">위에서 찾은 ip로 취약한 Port 찾기</a></li>
                <li>
                    <a href="#searchsploit%ec%9c%bc%eb%a1%9c-%ec%b7%a8%ec%95%bd%ec%a0%90-%ec%b0%be%ea%b8%b0" aria-label="searchsploit으로 취약점 찾기">searchsploit으로 취약점 찾기</a></li>
                <li>
                    <a href="#gobuster-%ec%82%ac%ec%9a%a9%ed%95%98%ea%b8%b0" aria-label="gobuster 사용하기">gobuster 사용하기</a></li></ul>
                </li>
                <li>
                    <a href="#%ea%b3%84%ec%86%8d" aria-label="계속&hellip;">계속&hellip;</a></li>
                <li>
                    <a href="#reference" aria-label="Reference">Reference</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><br>
<h2 id="kioptrix1-서버-올리기">kioptrix1 서버 올리기<a hidden class="anchor" aria-hidden="true" href="#kioptrix1-서버-올리기">#</a></h2>
<p><a href="https://vulnhub.com/entry/kioptrix-level-1-1,22/">kioptrix-level-1-1</a>을 받아서 UTM으로 실행해줍니다. 실리콘에서 실행시키기 위해 <a href="https://www.youtube.com/watch?v=BVPFACvXihY">유튜브</a>를 참고하였습니다. 이때 qemu 사용하기 위해 brew 로 설치가 필요합니다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">brew install qemu
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Step 1:- Download Kioptrix level 1 vulnerable system</li>
<li>Step 2:- Unzip the file through Unzip rar (download from App Store)</li>
<li>Step 3:- Open the unzip Folder in terminal</li>
<li>Step 4:- qemu-img convert -p -O qcow2 *.vmdk output.qcow2 (write this command in terminal )</li>
<li>Step 5:- Open Utm</li>
<li>Step 6: - Create new Virtual machine</li>
<li>Step 7:- Click on the Emulate Button</li>
<li>Step 8:- Skip ISO BOOT</li>
<li>Step 9:- Click Continue</li>
<li>Step 10:- Open virtual Setting</li>
<li>Step 11:- Click Qemu</li>
<li>Step 12:- Tick RNG and force ps/2 controller</li>
<li>Step 13:- Delete Drive</li>
<li>Step 14:- Import new drive and select .qocw2 file from kioptrix folder</li>
</ul>
<p>여기에 추가로 네트워크 설정에서 브릿지로 설정해줍니다.</p>
<figure class="align-center ">
    <img loading="lazy" src="../img/56.png#center"/> 
</figure>

<br/>
<h2 id="information-gathering">Information Gathering<a hidden class="anchor" aria-hidden="true" href="#information-gathering">#</a></h2>
<h3 id="ping-scan-하여-취약-ip-찾기">ping scan 하여 취약 ip 찾기<a hidden class="anchor" aria-hidden="true" href="#ping-scan-하여-취약-ip-찾기">#</a></h3>
<p>information gathering 어떤 ip가 살아있는지 ping scan을 일일이 날리지 않고 한번에 해줌, python이나 shell로 코드를 짜도 되고 nmap을 사용해도 가능 이때 flag는 <code>-sn</code>을 사용한다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">nmap -sn 192.168.0.1-255
</span></span></code></pre></td></tr></table>
</div>
</div><figure class="align-center ">
    <img loading="lazy" src="../img/55.png#center"/> 
</figure>

<h3 id="위에서-찾은-ip로-취약한-port-찾기">위에서 찾은 ip로 취약한 Port 찾기<a hidden class="anchor" aria-hidden="true" href="#위에서-찾은-ip로-취약한-port-찾기">#</a></h3>
<p>취약한 ip를 찾았다면 어떤 포트가 열려있는지 확인합니다. flag는 <code>-A</code>을 사용한다. <code>-v</code> 옵션을 주어서 어떤 내용인지 로그를 전부 출력한다</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">nmap -v -A 192.168.0.X
</span></span></code></pre></td></tr></table>
</div>
</div><figure class="align-center ">
    <img loading="lazy" src="../img/57.png#center"
         alt="테스트로 localhost로 웹서버 몇개를 띄웠습니다"/> <figcaption>
            <p>테스트로 localhost로 웹서버 몇개를 띄웠습니다</p>
        </figcaption>
</figure>

<h3 id="searchsploit으로-취약점-찾기">searchsploit으로 취약점 찾기<a hidden class="anchor" aria-hidden="true" href="#searchsploit으로-취약점-찾기">#</a></h3>
<p>위에서 열린 포트중에 어떤 취약점이 있는지 확인할 수 있습니다. 예시) nginx, apache, mod_ssl 등</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">searchsploit mod_ssl
</span></span></code></pre></td></tr></table>
</div>
</div><figure class="align-center ">
    <img loading="lazy" src="../img/58.png#center"/> 
</figure>

<p>어떠한 취약점이 있는지 확인할 수 있습니다. 사용할 파일은 복사하여 사용합니다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">cp /usr/share/exploitdb/exploits/{위에서나온PATH} /복사할 path
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="gobuster-사용하기">gobuster 사용하기<a hidden class="anchor" aria-hidden="true" href="#gobuster-사용하기">#</a></h3>
<p>웹페이지의 경로를 Broute Force 방식으로 무작위 대입하여 어떠한 경로가 있는지 파악하는 툴입니다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt install gobuster
</span></span></code></pre></td></tr></table>
</div>
</div><p>기본적으로 dirbuster 에 대한 broute force 내용들이 저장되어 있습니다. 경로는 <code>/usr/share/wordlists/dirbuster/</code> 하위에 있습니다.
<figure class="align-center ">
    <img loading="lazy" src="../img/59.png#center"/> 
</figure>
</p>
<p>사용 방법은 다음과 같습니다.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">gobuster dir -u [웹주소] -w /usr/share/wordlists/dirbuster/[사용할 파일] -t [쓰레드수] --exclude-length [제외할 length string 예시) 100-400]
</span></span></code></pre></td></tr></table>
</div>
</div><p>명령어를 실행하게 되면 적용한 파일에 있는 주소가 있는지 확인하여 결과를 보여줍니다.</p>
<h2 id="계속">계속&hellip;<a hidden class="anchor" aria-hidden="true" href="#계속">#</a></h2>
<h2 id="reference">Reference<a hidden class="anchor" aria-hidden="true" href="#reference">#</a></h2>
<ul>
<li><a href="https://www.youtube.com/@Normaltic">https://www.youtube.com/@Normaltic</a></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://blog.cha2hyun.com/tags/kali-linux/">Kali Linux</a></li>
      <li><a href="https://blog.cha2hyun.com/tags/%ED%95%B4%ED%82%B9/">해킹</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://blog.cha2hyun.com/content/algorithm/programmers/etc/120956/">
    <span class="title">« 이전 페이지</span>
    <br>
    <span>프로그래머스 120956] 옹알이(1) - 파이썬</span>
  </a>
  <a class="next" href="https://blog.cha2hyun.com/content/hacking/hacking1/">
    <span class="title">다음 페이지 »</span>
    <br>
    <span>해킹] M1맥에 Kali Linux 설치 (VMware Fusion 13)</span>
  </a>
</nav>

  </footer>
<script
  src="https://giscus.app/client.js"
  data-repo="cha2hyun/cha2hyun.github.io"
  data-repo-id="R_kgDOICTfkg"
  data-category="Comments"
  data-category-id="DIC_kwDOICTfks4CcDAW"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme="preferred_color_scheme"
  data-lang="ko"
  crossorigin="anonymous"
  async
></script>

</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://blog.cha2hyun.com/">채수현 개발일지</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '복사';

        function copyingDone() {
            copybutton.innerHTML = '복사 완료!';
            setTimeout(() => {
                copybutton.innerHTML = '복사';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
